{
  "name": {
    "pt_BR": "inserir uma nova linha em uma planilha",
    "en": "insert a new row in a spreadsheet"
  },
  "action_key": "insert_row",
  "description": {
    "pt_BR": "inserir uma nova linha em uma planilha",
    "en": "insert a new row in a spreadsheet"
  },
  "action_fields": {
    "fields": [
      {
        "key": "spreadsheetId",
        "name": {"pt_BR": "planilha", "en": "spreadsheet"},
        "description": {
          "pt_BR": "planilha.",
          "en": "spreadsheet."
        },
        "label": {
          "pt_BR": "Selecione a planilha",
          "en": "Select the spreadsheet"
        },
        "placeholder": {
          "pt_BR": "Selecione a planilha",
          "en": "Select the spreadsheet"
        },
        "required": true,
        "visible": true,
        "advanced": false,
        "field_type": "dropdown",
        "data_type": "string",
        "list": {
          "type": "remote",
          "helper_method": "google_sheets_spreadsheet_list"
        },
        "not_include_field_in_request": true
      },
      {
        "key": "sheetId",
        "name": {"pt_BR": "folha", "en": "sheet"},
        "description": {
          "pt_BR": "folha.",
          "en": "sheet."
        },
        "label": {
          "pt_BR": "Selecione a folha",
          "en": "Select the sheet"
        },
        "placeholder": {
          "pt_BR": "Selecione a folha",
          "en": "Select the sheet"
        },
        "required": true,
        "visible": true,
        "advanced": false,
        "field_type": "dropdown",
        "data_type": "string",
        "list": {
          "type": "remote",
          "helper_method": "google_sheets_sheet_list"
        },
        "not_include_field_in_request": true
      },
      {
        "key": "rows",
        "name": {"pt_BR": "dados da planilha", "en": "spreadsheet data"},
        "description": {
          "pt_BR": "dados da planilha",
          "en": "spreadsheet datal"
        },
        "required": true,
        "visible": true,
        "advanced": false,
        "field_type": "list",
        "data_type": "compose_list",
	"sub_fields": [
	  {
	    "key": "headers",
  	    "name": {"pt_BR": "Cabeçalho", "en": "Header"},
	    "required": true,
	    "visible": true,
	    "advanced": false,
	    "field_type": "custom_string",
	    "data_type": "string"
	  },
	  {
	    "key": "values",
  	    "name": {"pt_BR": "Valor", "en": "Value"},
	    "required": true,
	    "visible": true,
	    "advanced": false,
	    "field_type": "custom_string",
	    "data_type": "string"
	  }
	]
      }
    ]
  },
  "request": {
    "method_name": "/v4/spreadsheets/{spreadsheetId}/values/'{sheetId}'!A1:append",
    "params": {
      "base_url_prefix": "sheets",
      "valueInputOption": "RAW",
      "insertDataOption": "INSERT_ROWS",
      "values": "{rows.values}"
    },
    "headers": {
      "X-HTTP-Method-Override": "PUT"
    },
    "json_api": true,
    "pre_hooks": {
      "hooks": [
        {
          "name": "Atualizar Cabeçalho",
          "request": {
            "verb": "post",
            "method_name": "/v4/spreadsheets/{spreadsheetId}/values/'{sheetId}'!A1",
            "base_uri": "https://sheets.googleapis.com",
            "params": {
              "base_url_prefix": "sheets",
              "valueInputOption": "RAW",
              "insertDataOption": "INSERT_ROWS",
              "value": "{rows.headers}"
            },
            "headers": {
              "X-HTTP-Method-Override": "PUT"
            }
          }
        }
      ]
    }
  }
}
